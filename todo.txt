- test multiple certificates in keystore
- generate soap fault on error
- change sendEvent generation: store one event per message (and calculate the following after current is handled if necessary)

- let DeliveryManager work with EbMSDocument instead of EbMSMessage?
	- change messageQueue from EbMSMessage to EbMSDocument
	- get messageId from EbMSDocument

- implement syncReply
- implement ackRequested
- implement encryption
- improve Service models:
	- add jaxb annotations?

- make EbMSMessageProcessor event driven
	- implement eventManager
	- replace dao.insertSendEvent(messageId) (and/or EbMSMessageUtils.getEbMSSendEvents(cpa,message)) to eventManager.generateSendEvent(EbMSDocument)
	- implement eventManager.generateReceiveEvent(MimeMessage/EbMSDocument)

- implement configurable (wire tapped) in and out message logger that logs each received and sent message (and logs message's corresponding/available messageId (and cpaId))

- validate CPA content during upload CPA
- remove CPA content validation during message processing

- validate message format (available elements versus action)
- improve header validation
	- add separate service and action validation

- remove unnecessary defined Interfaces and custom Exceptions
/ improve EbMSMessageProcessor
- improve EbMSHttpClient
  - move cpa functionality to caller; add extra properties for url and signing (sendEvent)?

- add url (or deliveryChannel) to table sendEvent
- support multiple deliveryChannels
	- support mail channel?

- implement AdminService
- implement wicket/jdo? admin interface with direct database access

- add response and statusCode to table sendEvent???
- implement table receivedEvent???

- use ebms_message.message_id to identify message

- CPAService: define cpa as CollaborationProtocolAgreement instead of String
- MessageHeader: define duplicateElimination as Object instead of String

- remove servlet from core?
- remove EbMS(Message) prefix on classes; add EbMS(Message) prefix on bean ids? 

- implement EbMSFileAttachment (file proxy) and EbMSDBAttachment (db proxy) for large message processing?

- replace commons-logging by slf4j???
- read mime message
	- replace mime4j by:
		- java soap
		- Just Another Multipart Parser (http://sourceforge.net/projects/jampp/)
		- MIME pull (glassfish)
- write mime message
	- replace custom writer by:
		- java soap
		- mime4j
		- http client
